# Об адресах

> Scope: [`crm`](../../../scopes/permissions.md)
>
> Кто может выполнять метод: любой пользователь

## Поля адресов

#|
|| **Название** | **Описание** | **Чтение** | **Запись** | **Обязательное** | **Неизменяемое** ||
|| **TYPE_ID**
[`integer`](../../../data-types.md) | Идентификатор типа адреса. Элемент перечисления «Тип адреса».

Элементы перечисления «Тип адреса» можно получить с помощью метода [crm.enum.addresstype](../../auxiliary/enum/crm-enum-address-type.md) | Да | Да | Да | Да ||
|| **ENTITY_TYPE_ID**
[`integer`](../../../data-types.md) | Идентификатор типа родительского объекта.

Идентификаторы типов объектов можно получить с помощью метода [crm.enum.ownertype](../../auxiliary/enum/crm-enum-owner-type.md).

Адреса могут быть привязаны только к Реквизитам (а реквизиты уже к компаниям либо контактам) или Лидам. Для обратной совместимости оставлена возможность связывать Адреса с Контактами или Компаниями. Но эта связь возможна только на некоторых старых порталах, где специально техподдержкой был включен старый режим работы с адресами.

{% endnote %} | Да | Да | Да | Да ||
|| **ENTITY_ID**
[`string`](../../../data-types.md) | Идентификатор родительского объекта | Да | Да | Да | Да ||
|| **ADDRESS_1**
[`string`](../../../data-types.md) | Улица, дом, корпус, строение | Да | Да | Нет | Нет ||
|| **ADDRESS_2**
[`string`](../../../data-types.md) | Квартира / офис | Да | Да | Нет | Нет ||
|| **CITY**
[`string`](../../../data-types.md) | Город | Да | Да | Нет | Нет ||
|| **POSTAL_CODE**
[`string`](../../../data-types.md) | Почтовый индекс | Да | Да | Нет | Нет ||
|| **REGION**
[`string`](../../../data-types.md) | Район | Да | Да | Нет | Нет ||
|| **PROVINCE**
[`string`](../../../data-types.md) | Область | Да | Да | Нет | Нет ||
|| **COUNTRY**
[`string`](../../../data-types.md) | Страна | Да | Да | Нет | Нет ||
|| **COUNTRY_CODE**
[`string`](../../../data-types.md) | Код страны | Да | Да | Нет | Нет ||
|| **LOC_ADDR_ID**
[`integer`](../../../data-types.md) | Идентификатор адреса местоположения.

Это поле содержит идентификатор объекта адреса в модуле `Location`, связанного с объектов адреса CRM. Каждому адресу CRM соответствует объект адреса в модуле `location`. Это можно использовать для копирования существующего адреса в CRM с информацией о местоположении, которой нет в полях адреса CRM. 

Если при создании адреса указан идентификатор адреса модуля `location`, то создается копия адреса `location` и привязывается к созданному адресу CRM. Если в таком случае не указаны значения для строковых полей адреса, то они будут заполнены из location-адреса. 

Если же было указано хоть одно строковое поле, то в адресе CRM будут сохранены только указанные поля, и их значения перезапишут соответствующие значения в объекте location-адреса. Такое же поведение будет и при обновлении адреса | Да | Да | Нет | Нет ||
|| **ANCHOR_TYPE_ID**
[`integer`](../../../data-types.md) | Идентификатор типа основного родительского объекта.

Это поле для служебного использования. Значение заполняется автоматически при добавлении адреса.

Идентификаторы типов объектов можно получить с помощью метода [crm.enum.ownertype](../../auxiliary/enum/crm-enum-owner-type.md).

В этом поле содержится идентификатор типа родительского объекта реквизита (компания или контакт), если адрес привязан к реквизиту. Если адрес привязан к лиду, то этим значением будет идентификатор типа лид | Да | Нет | Нет | Нет ||
|| **ANCHOR_ID**
[`integer`](../../../data-types.md) | Это поле для служебного использования. Значение заполняется автоматически при добавлении адреса.

В этом поле содержится идентификатор родительского объекта реквизита (компании или контакта), если адрес привязан к реквизиту. Если адрес привязан к лиду, то этим значением будет идентификатор лида | Да | Нет | Нет | Нет ||
|#

Используйте метод [crm.address.fields](./crm-address-fields.md) для получения формального описания полей адреса.

## Обзор методов

#|
|| **Метод** | **Описание** ||
|| [crm.address.add](./crm-address-add.md) | Добавляет новый адрес для реквизита или лида ||
|| [crm.address.update](./crm-address-update.md) | Изменяет адрес для реквизита или лида ||
|| [crm.address.list](./crm-address-list.md) | Возвращает список адресов по фильтру ||
|| [crm.address.delete](./crm-address-delete.md) | Удаляет адрес ||
|| [crm.address.fields](./crm-address-fields.md) | Возвращает формально описание полей адреса ||
|#
