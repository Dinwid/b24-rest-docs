# Генерация документа с изображениями и печатями

{% note warning "Мы еще обновляем эту страницу" %}

Тут может не хватать некоторых данных — дополним в ближайшее время

{% endnote %}

{% if build == 'dev' %}

{% note alert "TO-DO _не выгружается на prod_" %}

- должно быть описание и ссылка на материал в общем разделе

{% endnote %}

{% endif %}

Рассмотрим вариант, когда нам надо вставить картинки, печать, использовать модификатор для даты и имени, и заполнить таблицу несколькими значениями.

Чтобы в документ передать сложные данные, не только в строковом формате, необходимо правильно сформировать параметр `fields`. Для начала, заполним изображение и печать.

```php
$data = [
    'templateId' => 203,
    'providerClassName' => 'Bitrix\\DocumentGenerator\\DataProvider\\Rest',
    'value' => 1,
    'values' => [
        'SomeDate' => '14.02.2018',
        'SomeName' => 'Горелкин Владислав',
        'Stamp' => 'http://myrestapp.com/upload/stamp.png', // внешний путь к файлу печати
        'Image' => 'http://myrestapp.com/upload/image.jpg', // внешний путь к файлу изображения
    ],
    'fields' => [
        'Stamp' => ['TYPE' => 'STAMP'], // тип поля - печать
        'Image' => ['TYPE' => 'IMAGE'], // тип поля - изображение
    ]
];
$url = $webHookUrl.$prefix.'.document.add/';
```

В массиве `fields` можно указать тип поля, по ключу `TYPE`:
- для полей "Изображение" тип - `STAMP`
- для полей "Печать или подпись" тип - `IMAGE`

В массиве `values` в качестве значений необходимо указать абсолютный путь к файлу. Файл будет скачан по этому адресу и вставлен в документ.