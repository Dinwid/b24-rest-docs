# Блоки-меню

{% note warning "Мы еще обновляем эту страницу" %}

Тут может не хватать некоторых данных — дополним в ближайшее время

{% endnote %}

{% if build == 'dev' %}

{% note alert "TO-DO _не выгружается на prod_" %}

- нужны правки под стандарт написания

{% endnote %}

{% endif %}

Если в секции block [манифеста блока](../manifest.md) добавить ключ **subtype** со значением `menu`, то при добавлении блока в магазине меню будет автоматически наполняться разделами текущего каталога.

Помимо subtype секция **block** должна содержать ключ **subtype_params** со следующими параметрами:

```php
'block' => array(
    'name' => 'Меню с логотипом слева и пунктами меню справа',
    'section' => 'menu',
    'subtype' => 'menu',
    'subtype_params' => array(
        'selector' => '.landing-block-node-menu-list-item-link',
        'count' => 5,
        'source' => 'catalog',
    )
),
```
Где:
- **selector** - селектор непосредственно тега пункта меню (тег a).
- **count** - ограничение в количестве добавляемых динамических пунктов (обязательно, 5 по-умолчанию).
- **source** - источник данных:
  - catalog - меню текущего каталога магазина;
  - structure - структура текущих папок и страниц, работает только при наличии ключа menu в [манифесте](../manifest.md).

{% note warning %}

Если блок меню будет добавляться в обычном лендинге (не магазин) данный подтип будет игнорироваться.

{% endnote %}